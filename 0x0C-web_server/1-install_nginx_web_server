#!/usr/bin/env bash
# Update package list and install Nginx webserver
sudo apt-get update
sudo apt-get install -y nginx

# Configure Nginx to listen on port 80
sudo sed -i 's/listen\s*80;/listen 80 default_server;/g' /etc/nginx/sites-available/default

# Restart Nginx
sudo /etc/init.d/nginx restart

# Create a file with Hello World! text
echo "Hello World!" | sudo tee /var/www/html/index.html

# Test Nginx configuration
curl -s http://localhost:80/ | grep "Hello World!" > /dev/null

if [ $? != 0 ]; then
  echo "Nginx is not serving the Hello World! message."
else
  echo "Nginx is installed and configured to serve the Hello World! message."
fi
